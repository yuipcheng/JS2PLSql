var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},Column=function(){function n(n){this.IsNull=!0,this.columnName=n}return Object.defineProperty(n.prototype,"ColumnName",{get:function(){return this.columnName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ColumnNameSql",{get:function(){return this.ColumnName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsPK",{get:function(){return this.isPK},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsFK",{get:function(){return this.isFK},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"FKTableName",{get:function(){return this.IsFK?this.fkRef.split(".")[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"FKColumnName",{get:function(){return this.IsFK?this.fkRef.split(".")[1]:null},enumerable:!0,configurable:!0}),n.prototype.PK=function(){return this.isPK=!0,this},n.prototype.FK=function(n,t){return this.isFK=!0,this.fkRef=n+"."+t,this},n.prototype.ToSql=function(){return""},n}(),NumberColumn=function(n){function t(t,i,r){typeof r=="undefined"&&(r=0),n.call(this,t),this.Scale=i,this.Precision=r}return __extends(t,n),t.prototype.ToSql=function(){var n=this.ColumnName+" NUMBER("+this.Scale;return this.Precision>0&&(n+=","+this.Precision),n+")"},t}(Column),Varchar2Column=function(n){function t(t,i){typeof i=="undefined"&&(i=50),n.call(this,t),this.MaxLength=i}return __extends(t,n),t.prototype.ToSql=function(){return this.ColumnName+" VARCHAR2("+this.MaxLength+")"},t}(Column),DateColumn=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.ToSql=function(){return this.ColumnName+" DATE"},t}(Column),Table=function(){function n(n){this.columns=[],this.TableName=n}return Object.defineProperty(n.prototype,"Columns",{get:function(){return this.columns},enumerable:!0,configurable:!0}),n.prototype.SetColumns=function(n){return this.columns=n,this},Object.defineProperty(n.prototype,"ColsSql",{get:function(){for(var n="",i,t=0;t<this.Columns.length;t++)i=this.Columns[t],n+="\r\n\t"+i.ToSql(),(i.IsPK||!i.IsNull)&&(n+=" NOT NULL"),n+=",";return n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"PKSql",{get:function(){for(var n="",i,t=0;t<this.Columns.length;t++)i=this.Columns[t],i.IsPK&&(n+=i.ColumnName+",");return n.length>0&&(n="\r\n\tCONSTRAINT "+this.TableName+"_PK PRIMARY KEY ("+n.substring(0,n.length-1)+"),"),n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"FKSql",{get:function(){for(var i="",n,t=0;t<this.Columns.length;t++)n=this.Columns[t],n.IsFK&&(i+="\r\n\tCONSTRAINT "+n.FKTableName+"_FK \r\n\t\tFOREIGN KEY ("+n.ColumnName+") \r\n\t\tREFERENCES "+n.FKTableName+"("+n.FKColumnName+"),");return i},enumerable:!0,configurable:!0}),n.prototype.ToSql=function(){var n="CREATE TABLE "+this.TableName+"(";return n+=this.ColsSql,n+=this.PKSql,n+=this.FKSql,n.substring(n.length-1)===","&&(n=n.substring(0,n.length-1)),n+"\r\n);\r\n"},n}(),Builder=function(){function n(n){this.Tables=[],this.Tables=n}return n.prototype.Constraints=function(){return""},n.prototype.ToPLSql=function(){for(var t="",i,n=0;n<this.Tables.length;n++)i=this.Tables[n],t+=i.ToSql();return t},n}();window.onload=function(){var n=document.getElementById("content"),t=[new Table("Customer").SetColumns([new NumberColumn("CustomerID",5).PK(),new Varchar2Column("CustomerNm",30)]),new Table("Product").SetColumns([new NumberColumn("ProductID",5).PK(),new Varchar2Column("ProductNm",30)]),new Table("CustomerOrder").SetColumns([new NumberColumn("CustomerID",5).FK("Customer","CustomerID"),new NumberColumn("ProductID",5).FK("Product","ProductID"),new DateColumn("ShipDate")])],i=new Builder(t);n.innerHTML=i.ToPLSql()}